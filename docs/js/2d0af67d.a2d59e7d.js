(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0af67d"],{"0dd7":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("q-page",{staticClass:"row text-center"},[s("div",{staticClass:"col self-center q-ma-xl"},[s("q-card",{staticClass:"danger",attrs:{bordered:""}},[s("q-card-section",[s("q-form",{staticClass:"q-gutter-lg",on:{submit:t.onSubmit}},[s("div",{staticClass:"text-h5"},[t._v("Adicionar abrantos")]),s("div",[s("q-slider",{attrs:{min:-1e3,max:1e3,color:t.sliderColor},on:{input:function(a){return t.sliderChange()}},model:{value:t.abrantosQuantity,callback:function(a){t.abrantosQuantity=a},expression:"abrantosQuantity"}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col"}),s("div",{staticClass:"col-2"},[s("q-input",{staticStyle:{"text-align":"right"},attrs:{type:"number",rules:[function(t){return t<=1e3&&t>=-1e3||"Máximo 1000 e mínimo -1000"}]},model:{value:t.abrantosQuantity,callback:function(a){t.abrantosQuantity=t._n(a)},expression:"abrantosQuantity"}})],1),s("div",{staticClass:"col"})])],1),s("q-btn",{attrs:{label:t.buttonDescription,type:"submit",color:"secondary",loading:t.isLoading}})],1)],1)],1)],1)])},o=[],r=(s("6b54"),s("06db"),s("d722")),i={name:"Abrantos",data:function(){return{isLoading:!1,abrantosQuantity:0,abrantosId:0,sliderColor:"red",api:new r["a"],buttonDescription:"Adicionar",updating:!1}},methods:{getAbrantos:function(){var t=this;this.isLoading=!0;var a=new Date;a.setHours(a.getHours()-3),this.api.getAll("dailyregister/date/".concat(a.toJSON().toString())).then(function(a){t.isLoading=!1,a&&(t.abrantosQuantity=a.data.dailyRegister.abrantos,t.abrantosId=a.data.dailyRegister.id,t.buttonDescription="Atualizar",t.updating=!0)}).catch(function(a){t.isLoading=!1,404!==a.response.status&&(a.response.data.errors?(t.errors.splice(0),t.errors=a.response.data.errors):t.$q.notify({color:"red-5",textColor:"white",icon:"fas fa-exclamation-triangle",message:a.response.data}))})},onSubmit:function(){var t=this;this.isLoading=!0;var a=new Date;a.setHours(a.getHours()-3),this.updating?this.api.put("dailyregister",{abrantos:this.abrantosQuantity,date:a.toJSON(),post:""},this.abrantosId).then(function(a){t.isLoading=!1,a&&(t.$q.notify({color:"green-4",textColor:"white",icon:"fas fa-check-circle",message:"Abrantos de hoje foram atualizados! "}),t.$router.push({name:"home"}))}).catch(function(a){t.isLoading=!1,a.response.data.errors?(t.errors.splice(0),t.errors=a.response.data.errors):t.$q.notify({color:"red-5",textColor:"white",icon:"fas fa-exclamation-triangle",message:a.response.data})}):this.api.post("dailyregister",{abrantos:this.abrantosQuantity,date:a.toJSON(),post:""}).then(function(a){t.isLoading=!1,a&&(t.$q.notify({color:"green-4",textColor:"white",icon:"fas fa-check-circle",message:"Abrantos cadastrados pra hoje! "}),t.$router.push({name:"home"}))}).catch(function(a){t.isLoading=!1,a.response.data.errors?(t.errors.splice(0),t.errors=a.response.data.errors):t.$q.notify({color:"red-5",textColor:"white",icon:"fas fa-exclamation-triangle",message:a.response.data})})},sliderChange:function(){this.abrantosQuantity>=0?this.sliderColor="red":this.sliderColor="green"}},created:function(){this.getAbrantos()}},n=i,c=s("2877"),d=Object(c["a"])(n,e,o,!1,null,null,null);a["default"]=d.exports}}]);